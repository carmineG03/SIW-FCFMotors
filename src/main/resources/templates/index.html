<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>FCF Motors</title>
    <link rel="stylesheet" href="/css/styles.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
       
        /* Stile per il menu a tendina moderno e accattivante */
        .dropdown {
            position: relative;
            display: inline-block;
        }
        .dropdown-toggle {
            background: linear-gradient(45deg, #F5A623, #E59400);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s ease, background 0.3s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        .dropdown-toggle:hover {
            transform: scale(1.1);
            background: linear-gradient(45deg, #E59400, #F5A623);
        }
        .dropdown-toggle i {
            font-size: 1.2rem;
            color: #FFFFFF;
            transition: transform 0.3s ease;
        }
        .dropdown-toggle.open i.fa-bars {
            transform: rotate(90deg);
        }
        .dropdown-menu {
            display: none;
            position: absolute;
            top: 50px;
            right: 0;
            background: linear-gradient(135deg, #FFFFFF, #F5F5F5);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
            border-radius: 12px;
            z-index: 1000;
            min-width: 200px;
            padding: 10px 0;
            opacity: 0;
            transform: translateY(-10px);
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        .dropdown-menu.show {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
        .dropdown-menu a {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            color: #333;
            text-decoration: none;
            font-size: 0.95rem;
            font-weight: 500;
            transition: background 0.2s ease, transform 0.2s ease, color 0.2s ease;
            border-left: 3px solid transparent;
        }
        .dropdown-menu a i {
            margin-right: 10px;
            font-size: 1.1rem;
            color: #F5A623;
        }
        .dropdown-menu a:hover {
            background: linear-gradient(45deg, #F5A623, #E59400);
            color: #FFFFFF;
            transform: translateX(5px);
            border-left: 3px solid #FFFFFF;
        }
        .dropdown-menu a:hover i {
            color: #FFFFFF;
        }
        /* Posizionamento del menu, centrato verticalmente */
        .header-right {
            position: absolute;
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        /* Assicurati che il layout sia responsive */
        @media (max-width: 768px) {
            #main-header {
                height: 60px;
            }
            .dropdown-menu {
                min-width: 180px;
            }
            .dropdown-toggle {
                width: 36px;
                height: 36px;
            }
            .dropdown-toggle i {
                font-size: 1rem;
            }
            .dropdown-menu {
                top: 40px;
            }
            .dropdown-menu a {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
            .header-right {
                right: 10px;
                gap: 5px;
            }
        }
    </style>
</head>

<body style="background: url('/image/sfondosito1.jpg') no-repeat center center fixed; background-size: cover;">
    <header id="main-header">
        <div class="header-left">
            <a href="/" class="logo-link">
                <div class="logo-container">
                    <img th:src="@{/image/logo1.png}" alt="FCF Motors Logo" class="logo"/>
                </div>
            </a>
            <div class="title-container">
                <h1 class="main-title">FCF MOTORS</h1>
                <!-- Rimossi i pulsanti "Trova Auto" e "Concessionari" -->
            </div>
        </div>
        <div class="nav-container">
            <div class="nav-bar">
                <!-- Rimossi i pulsanti "Account" e "Carrello" -->
            </div>
        </div>
        <!-- Contenitore per il menu a tendina -->
        <div class="header-right">
            <!-- Menu a tendina con design moderno e accattivante -->
            <div class="dropdown">
                <button class="dropdown-toggle" aria-label="Menu">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="dropdown-menu">
                    <a th:href="@{/products}"><i class="fas fa-car"></i> Trova Auto</a>
                    <a th:href="@{/dealers}"><i class="fas fa-map-marker-alt"></i> Concessionari</a>
                    <a th:href="@{/cart}"><i class="fas fa-shopping-cart"></i> Carrello</a>
                    <a th:if="${!isAuthenticated}" th:href="@{/login}"><i class="fas fa-user"></i> Login</a>
                    <a th:if="${isAuthenticated}" th:href="@{/account}"><i class="fas fa-user"></i> <span th:text="${user.username}"></span></a>
                </div>
            </div>
        </div>
    </header>

    <main>
        <section class="hero-section" style="background: rgba(0, 0, 0, 0.5); min-height: 60vh; padding: 40px 20px; display: flex; align-items: center; justify-content: center;">
            <div class="hero-content" style="text-align: center; max-width: 800px;">
                <h2 class="hero-title" style="font-size: 3rem; color: #F5A623; font-family: 'Bungee Spice', sans-serif; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7); margin-bottom: 15px;">Scopri la tua auto ideale oggi!</h2>
                <p class="hero-subtitle" style="font-size: 1.2rem; color: #FFFFFF; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); line-height: 1.5; margin-bottom: 20px; max-width: 500px; margin-left: auto; margin-right: auto;">Esplora migliaia di auto nuove e usate, trova il modello perfetto per te.</p>
                
                <!-- Nuova barra di ricerca -->
                <div class="new-search-bar">
                    <form class="new-search-form" action="/products/search" method="get" onsubmit="return validateSearch()">
                        <div class="new-search-input-wrapper">
                            <i class="fas fa-search search-icon"></i>
                            <input type="text" name="query" id="new-search-input" placeholder="Cerca marca, modello o categoria..." required aria-label="Cerca auto per marca, modello o categoria"/>
                        </div>
                        <button type="submit" class="new-search-button" aria-label="Cerca auto">
                            Cerca
                        </button>
                    </form>
                </div>

                <a href="/products" class="cta-button" 
                   style="background: linear-gradient(45deg, #F5A623, #E59400); color: #FFFFFF; border: none; border-radius: 8px; padding: 12px 25px; font-size: 14px; font-weight: 600; text-decoration: none; display: inline-flex; align-items: center; justify-content: center; box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2); cursor: pointer;" 
                   aria-label="Sfoglia tutte le auto disponibili">
                    Sfoglia tutte le auto
                </a>
            </div>
        </section>

        <section class="brands-section">
            <h3>Marche più popolari</h3>
            <div class="brands-container">
                <a href="/products/brand/Alfa Romeo" class="brand-item">
                    <img th:src="@{/image/alfa-romeo-logo.png}" alt="Alfa Romeo"/>
                    <p>Alfa Romeo</p>
                </a>
                <a href="/products/brand/Audi" class="brand-item">
                    <img th:src="@{/image/audi-logo.png}" alt="Audi"/>
                    <p>Audi</p>
                </a>
                <a href="/products/brand/BMW" class="brand-item">
                    <img th:src="@{/image/bmw-logo.png}" alt="BMW"/>
                    <p>BMW</p>
                </a>
                <a href="/products/brand/Fiat" class="brand-item">
                    <img th:src="@{/image/fiat-logo.png}" alt="Fiat"/>
                    <p>Fiat</p>
                </a>
                <a href="/products/brand/Mercedes-Benz" class="brand-item">
                    <img th:src="@{/image/mercedes-benz-logo.png}" alt="Mercedes-Benz"/>
                    <p>Mercedes-Benz</p>
                </a>
                <a href="/products/brand/Toyota" class="brand-item">
                    <img th:src="@{/image/toyota-logo.png}" alt="Toyota"/>
                    <p>Toyota</p>
                </a>
            </div>
            <a href="/products" class="all-brands-link">Scopri tutte le marche <i class="fas fa-chevron-right"></i></a>
        </section>

        <section class="categories-section">
            <h3>Esplora le nostre categorie</h3>
            <div class="carousel-container">
                <div class="carousel">
                    <a href="/products/brand/Berlina" class="category-item" style="background-image: url('/image/berlina.png');">
                        <p>Berlina</p>
                    </a>
                    <a href="/products/brand/City Car" class="category-item" style="background-image: url('/image/citycar.png');">
                        <p>City Car</p>
                    </a>
                    <a href="/products/brand/SUV" class="category-item" style="background-image: url('/image/suv.png');">
                        <p>SUV</p>
                    </a>
                    <a href="/products/brand/Sportiva" class="category-item" style="background-image: url('/image/sportiva.png');">
                        <p>Sportiva</p>
                    </a>
                    <a href="/products/brand/Station Wagon" class="category-item" style="background-image: url('/image/stationwagon.png');">
                        <p>Station Wagon</p>
                    </a>
                    <a href="/products/brand/Elettrica" class="category-item" style="background-image: url('/image/el.png');">
                        <p>Elettrica</p>
                    </a>
                </div>
                <div class="carousel-nav">
                    <button class="carousel-btn prev"><i class="fas fa-chevron-left"></i></button>
                    <button class="carousel-btn next"><i class="fas fa-chevron-right"></i></button>
                </div>
                <div class="dots"></div>
            </div>
        </section>

        <section class="why-choose-us">
            <h3>Perché scegliere FCF Motors?</h3>
            <div class="features-container">
                <div class="feature-item">
                    <i class="fas fa-car"></i>
                    <h4>Vasta selezione</h4>
                    <p>Trova auto di ogni marca e modello, nuove o usate, tutte in un unico posto.</p>
                </div>
                <div class="feature-item">
                    <i class="fas fa-handshake"></i>
                    <h4>Acquisto sicuro</h4>
                    <p>Garanzie certificate e supporto dedicato per un’esperienza senza pensieri.</p>
                </div>
                <div class="feature-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <h4>Concessionari vicini</h4>
                    <p>Collabora con i migliori concessionari nella tua zona.</p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h4>Link Utili</h4>
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/products">Trova Auto</a></li>
                    <li><a href="/dealers">Concessionari</a></li>
                    <li><a href="/cart">Carrello</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Contatti</h4>
                <p>Email: info@fcfmotors.com</p>
                <p>Telefono: +39 123 456 7890</p>
                <p>Indirizzo: Via Auto, 123, Milano, Italia</p>
            </div>
            <div class="footer-section">
                <h4>Seguici</h4>
                <div class="social-links">
                    <a href="https://facebook.com" target="_blank" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://instagram.com" target="_blank" class="social-icon"><i class="fab fa-instagram"></i></a>
                    <a href="https://twitter.com" target="_blank" class="social-icon"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
            <div class="footer-section">
                <h4>Informazioni</h4>
                <p>FCF Motors offre una vasta gamma di auto nuove e usate. Scopri la tua prossima auto con noi!</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>© 2025 FCF Motors. Tutti i diritti riservati.</p>
        </div>
    </footer>

    <script src="/js/homepage.js" defer></script>
    <script>
        // JavaScript per gestire il menu a tendina con animazione
        document.addEventListener('DOMContentLoaded', function() {
            const dropdownToggle = document.querySelector('.dropdown-toggle');
            const dropdownMenu = document.querySelector('.dropdown-menu');

            dropdownToggle.addEventListener('click', function() {
                const isOpen = dropdownMenu.classList.contains('show');
                dropdownMenu.classList.toggle('show');
                dropdownToggle.classList.toggle('open', !isOpen);
            });

            document.addEventListener('click', function(event) {
                if (!dropdownToggle.contains(event.target) && !dropdownMenu.contains(event.target)) {
                    dropdownMenu.classList.remove('show');
                    dropdownToggle.classList.remove('open');
                }
            });

            dropdownToggle.addEventListener('keydown', function(event) {
                if (event.key === 'Enter' || event.key === ' ') {
                    event.preventDefault();
                    dropdownMenu.classList.toggle('show');
                    dropdownToggle.classList.toggle('open');
                }
            });
        });
    </script>
</body>
</html>